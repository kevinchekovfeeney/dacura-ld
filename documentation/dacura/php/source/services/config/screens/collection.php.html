<html>
    <head>
        <script
            type="text/javascript"
            src="../../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;div class='dacura-screen' id='collection-config'&gt;
	&lt;?php if(in_array(&quot;collection-settings&quot;, $params['subscreens'])) { ?&gt;
	&lt;div class='dacura-subscreen' id='collection-settings' title=&quot;Collection Settings&quot;&gt;
		&lt;div title=&quot;Update Collection Details&quot; class='subscreen-intro-message'&gt;&lt;?=$params['settings_intro_msg']?&gt;&lt;/div&gt;
		&lt;?php echo $service-&gt;getInputTableHTML(&quot;collection-details&quot;, &quot;update&quot;, $params['update_collection_fields']);?&gt;
		&lt;div class=&quot;subscreen-buttons&quot;&gt;
			&lt;button id='collectiondelete' class='dacura-delete subscreen-button'&gt;Delete Collection&lt;/button&gt;
			&lt;button id='collectionupdate' class='dacura-update subscreen-button'&gt;Update Collection&lt;/button&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;?php } if(in_array(&quot;colconfig&quot;, $params['subscreens'])) { ?&gt;
	&lt;div class='dacura-subscreen' id='colconfig' title=&quot;Collection Details&quot;&gt;
			&lt;?php echo $service-&gt;getInputTableHTML(&quot;cconfig&quot;, &quot;view&quot;, $params['cconfig_fields']);?&gt;
	&lt;/div&gt;
	&lt;?php } ?&gt;	
&lt;/div&gt;

&lt;script&gt;
	function drawCollection(obj){
		var nobj = obj.config;
		nobj.id = obj.id;
		nobj.name = obj.name;
		nobj.status = obj.status;
		dacura.tool.form.populate(&quot;collection-details&quot;, nobj);
	}
	
	function showUpdatedCollection(obj, targets){
		drawCollection(obj);
		dacura.system.showSuccessResult(&quot;Updates successfully saved&quot;, obj, &quot;Collection &quot; + obj.id + &quot; updated&quot;, targets.resultbox);
	}
	
	function showDeleteResult(obj, targets){
		dacura.system.showWarningResult(&quot;This collection has been deleted&quot;, false, &quot;Collection &lt;?=$params['cid']?&gt; deleted&quot;, targets.resultbox);
	}
	
	$(function() {
		dacura.system.init({
			&quot;mode&quot;: &quot;tool&quot;, 
			&quot;tabbed&quot;: 'collection-config', 
			&quot;entity_id&quot;: &quot;&lt;?=$params['cid']?&gt;&quot;,
			&quot;load&quot;: dacura.config.fetchCollection,
			&quot;draw&quot;: drawCollection,
			&quot;buttons&quot;: {
				&quot;collectionupdate&quot;: {
					&quot;screen&quot;: &quot;collection-settings&quot;,
					&quot;source&quot;: &quot;collection-details&quot;,
					&quot;submit&quot;: dacura.config.updateCollection, 
					&quot;result&quot;: showUpdatedCollection
				},
				&quot;collectiondelete&quot;: {
					&quot;screen&quot;: &quot;collection-settings&quot;,
					&quot;gather&quot;: function(){ return &quot;&lt;?=$params['cid']?&gt;&quot;},
					&quot;submit&quot;: dacura.config.deleteCollection, 
					&quot;result&quot;: showDeleteResult			
				}
			}
			
		});
	});
&lt;/script&gt;
</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>