<html>
    <head>
        <script
            type="text/javascript"
            src="../../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">
&lt;div id='tab-holder'&gt;
	 &lt;ul id=&quot;ld-pane-list&quot; class=&quot;dch&quot;&gt;
	 	&lt;li&gt;&lt;a href=&quot;#ld-list&quot;&gt;User Interface Widgets&lt;/a&gt;&lt;/li&gt;
	 	&lt;!-- &lt;li&gt;&lt;a href=&quot;#update-list&quot;&gt;LD Entity Update Queue&lt;/a&gt;&lt;/li&gt; --&gt;
	 	&lt;li&gt;&lt;a href=&quot;#create-widget&quot;&gt;Create New UI Widget&lt;/a&gt;&lt;/li&gt;
	 &lt;/ul&gt;
	&lt;div id=&quot;create-widget&quot;&gt;
		&lt;div class=&quot;tab-top-message-holder&quot;&gt;
			&lt;div class=&quot;tool-create-info tool-tab-info&quot; id=&quot;create-msgs&quot;&gt;&lt;/div&gt;
		&lt;/div&gt;
		&lt;div id=&quot;create-holder&quot; class=&quot;dch&quot;&gt;
			&lt;div id='entity-graphs'&gt;
			&lt;/div&gt;
			&lt;div id='entity-classes' class='dch'&gt;				
			&lt;/div&gt;
			&lt;div id='class-properties' class='ld-list dch'&gt;
				&lt;table id=&quot;entity-property-table&quot; class=&quot;dcdt display&quot;&gt;
					&lt;thead&gt;
					&lt;tr&gt;
						&lt;th&gt;Name&lt;/th&gt;
						&lt;th&gt;Range&lt;/th&gt;
						&lt;th&gt;Version&lt;/th&gt;
						&lt;th&gt;Created&lt;/th&gt;
						&lt;th&gt;Sortable Created&lt;/th&gt;
						&lt;th&gt;Modified&lt;/th&gt;
						&lt;th&gt;Sortable Modified&lt;/th&gt;
					&lt;/tr&gt;
					&lt;/thead&gt;
					&lt;tbody&gt;&lt;/tbody&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;div id=&quot;ld-list&quot;&gt;
		&lt;div class=&quot;tab-top-message-holder&quot;&gt;
			&lt;div class=&quot;tool-tab-info&quot; id=&quot;ld-msgs&quot;&gt;&lt;/div&gt;
		&lt;/div&gt;
		&lt;div id=&quot;ld-holder&quot; class='ld-list dch'&gt;
			&lt;table id=&quot;ld_table&quot; class=&quot;dcdt display&quot;&gt;
				&lt;thead&gt;
				&lt;tr&gt;
					&lt;th&gt;ID&lt;/th&gt;
					&lt;th&gt;Type&lt;/th&gt;
					&lt;th&gt;Status&lt;/th&gt;
					&lt;th&gt;Version&lt;/th&gt;
					&lt;th&gt;Created&lt;/th&gt;
					&lt;th&gt;Sortable Created&lt;/th&gt;
					&lt;th&gt;Modified&lt;/th&gt;
					&lt;th&gt;Sortable Modified&lt;/th&gt;
				&lt;/tr&gt;
				&lt;/thead&gt;
				&lt;tbody&gt;&lt;/tbody&gt;
			&lt;/table&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;div id=&quot;update-list&quot;&gt;
		&lt;div class=&quot;tab-top-message-holder&quot;&gt;
			&lt;div class=&quot;tool-tab-info&quot; id=&quot;update-msgs&quot;&gt;&lt;/div&gt;
		&lt;/div&gt;
		&lt;div id=&quot;update-holder&quot; class=&quot;ld-list dch&quot;&gt;
			&lt;table id=&quot;update_table&quot; class=&quot;dcdt display&quot;&gt;
				&lt;thead&gt;
				&lt;tr&gt;
					&lt;th&gt;ID&lt;/th&gt;
					&lt;th&gt;Target&lt;/th&gt;
					&lt;th&gt;Type&lt;/th&gt;
					&lt;th&gt;Collection&lt;/th&gt;
					&lt;th&gt;Status&lt;/th&gt;
					&lt;th&gt;From Version&lt;/th&gt;
					&lt;th&gt;To Version&lt;/th&gt;
					&lt;th&gt;Created&lt;/th&gt;
					&lt;th&gt;Sortable Created&lt;/th&gt;
					&lt;th&gt;Modified&lt;/th&gt;
					&lt;th&gt;Sortable Modified&lt;/th&gt;
				&lt;/tr&gt;
				&lt;/thead&gt;
				&lt;tbody&gt;&lt;/tbody&gt;
			&lt;/table&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class='dch'&gt;
	&lt;div id=&quot;class-template&quot;&gt;
		&lt;table class=&quot;class-table display&quot;&gt;
			&lt;thead&gt;
			&lt;tr&gt;
				&lt;th&gt;Name&lt;/th&gt;
				&lt;th&gt;Label&lt;/th&gt;
				&lt;th&gt;Type&lt;/th&gt;
				&lt;th&gt;Parent&lt;/th&gt;
				&lt;th&gt;Select&lt;/th&gt;
			&lt;/tr&gt;
			&lt;/thead&gt;
			&lt;tbody&gt;&lt;/tbody&gt;
		&lt;/table&gt;
	&lt;/div&gt;
&lt;script&gt;



var entity_urls = [];
var update_urls = [];
var entity_classes = [];

dacura.widget.drawClassPropertyTable = function(data){
	dacura.system.showSuccessResult(&quot;received stub from server&quot;, data, &quot;Success&quot;, &quot;#create-msgs&quot;);
};

dacura.widget.drawEntityClassTable = function(data){
	for (var g in data){
		var obj = data[g];
		var tjqid = &quot;graph-table-&quot; + g;
		var djqid = &quot;graph-&quot; + g;
		$('#entity-classes').append(&quot;&lt;div class='graph-classes-list' id='&quot; + djqid + &quot;'&gt;&lt;h3&gt;Graph &quot; + g + &quot;&lt;/h3&gt;&quot;
			+ &quot;&lt;div id='&quot; + tjqid + &quot;'&gt;&lt;/div&gt;&lt;/div&gt;&quot;);
		dacura.widget.drawClassTable(&quot;#&quot; + tjqid, obj, g); 
	}
	$('.select-class').button().click( function(event){
		var rec = entity_classes[this.id.substring(7)];
		dacura.widget.fetchClassProperties(rec.graph, rec.name, dacura.widget.drawClassPropertyTable, {resultbox: &quot;#create-msgs&quot;, errorbox: &quot;#create-msgs&quot;, busybox: &quot;#create-widget&quot;});
	});
	$('#entity-classes').show();
}

dacura.widget.drawClassTable = function(jqid, data, g){
	$(jqid).html($('#class-template').html());
	for (var i in data) {
		var obj = data[i];
		$(jqid + &quot; .class-table tbody&quot;).append(&quot;&lt;tr&gt;&quot; +
			&quot;&lt;td&gt;&quot; + obj.name + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.label + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.type + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.subclass + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&lt;input type='checkbox' class='select-class' id='entity_&quot; + entity_classes.length + &quot;'&gt;&lt;label for='entity_&quot; + entity_classes.length + &quot;'&gt;Select&lt;/label&gt;&lt;/td&gt;&quot; +
			&quot;&lt;/tr&gt;&quot;);
		entity_classes[entity_classes.length] = { graph: g, name: obj.name};
	}
}


dacura.widget.drawEntityListTable = function(data){		
	if(typeof data == &quot;undefined&quot; || data.length == 0){
		$('#ld-holder').show();	
		$('#ld_table').dataTable(dacura.widget.getTableInitStrings()).show(); 
		dacura.system.showErrorResult(&quot;No Entities Found&quot;, false, &quot;&quot;, '#ld_table .dataTables_empty');		
	}
	else {
		$('#ld_table tbody').html(&quot;&quot;);
		entity_urls = [];
		for (var i in data) {
			var obj = data[i];
			$('#ld_table tbody').append(&quot;&lt;tr class='entityrow' id='ent_&quot; + entity_urls.length + &quot;'&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.id + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.type + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.status + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.version + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + timeConverter(obj.createtime) + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.createtime + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + timeConverter(obj.modtime) + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.modtime + &quot;&lt;/td&gt;&quot; + &quot;&lt;/tr&gt;&quot;);
			if(obj.type == &quot;candidate&quot;){
				s = obj.type;
			}	
			else if(obj.type == &quot;graph&quot; || obj.type == &quot;ontology&quot;){
				s = &quot;schema&quot;;
			}
			else {
				s = &quot;ld&quot;;
			}
			entity_urls[entity_urls.length] = dacura.system.pageURL(s, obj.collectionid) + &quot;/&quot; + obj.id;
		}
		$('.entityrow').hover(function(){
			$(this).addClass('userhover');
		}, function() {
		    $(this).removeClass('userhover');
		});
		$('.entityrow').click( function (event){
			window.location.href = entity_urls[this.id.substr(4)]
	    }); 		
		$('#ld-holder').show();	
		$('#ld_table').dataTable(&lt;?=$params['widget_datatable']?&gt;);
	}
}

dacura.widget.drawUpdateListTable = function(data){		
	if(typeof data == &quot;undefined&quot; || data.length == 0){
		$('#update-holder').show();	
		$('#update_table').dataTable(dacura.widget.getTableInitStrings(true)); 
		dacura.system.showErrorResult(&quot;No Updates Found&quot;, false, &quot;&quot;, '#update_table .dataTables_empty');		
	}
	else {
		$('#update_table tbody').html(&quot;&quot;);
		update_urls = [];
		for (var i in data) {
			var obj = data[i];
			$('#update_table tbody').append(&quot;&lt;tr class='updaterow' id='update_&quot; + update_urls.length + &quot;'&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.eurid + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.targetid + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.type + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.collectionid + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.status + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.from_version + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.to_version + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + timeConverter(obj.createtime) + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.createtime + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + timeConverter(obj.modtime) + &quot;&lt;/td&gt;&quot; + 
			&quot;&lt;td&gt;&quot; + obj.modtime + &quot;&lt;/td&gt;&quot; + &quot;&lt;/tr&gt;&quot;);
			if(obj.type == &quot;candidate&quot;){
				s = obj.type;
			}	
			else if(obj.type == &quot;graph&quot; || obj.type == &quot;ontology&quot;){
				s = &quot;schema&quot;;
			}
			else {
				s = &quot;ld&quot;;
			}
			update_urls[update_urls.length] = dacura.system.pageURL(s, obj.collectionid) + &quot;/&quot; + obj.targetid + &quot;/update/&quot; + obj.eurid;			
		}
		$('.updaterow').hover(function(){
			$(this).addClass('userhover');
		}, function() {
		    $(this).removeClass('userhover');
		});
		$('.updaterow').click( function (event){
			window.location.href = update_urls[this.id.substr(7)]
	    }); 
		$('#update-holder').show();	
		$('#update_table').dataTable(dacura.widget.getTableInitStrings(true)).show();
	}
}

$(function() {
	dacura.system.init({&quot;mode&quot;: &quot;tool&quot;});
	dacura.widget.fetchentitylist(dacura.widget.drawEntityListTable, {resultbox: &quot;#ld-msgs&quot;, errorbox: &quot;#ld-msgs&quot;, busybox: &quot;#ld-list&quot;});
	dacura.widget.fetchClasses(dacura.widget.drawEntityClassTable, {resultbox: &quot;#create-msgs&quot;, busybox: &quot;#create-widget&quot;});
	//dacura.ld.fetchupdatelist(dacura.ld.drawUpdateListTable, {resultbox: &quot;#update-msgs&quot;, errorbox: &quot;#update-msgs&quot;, busybox: &quot;#update-list&quot;}); 
	$('#ld-pane-list').show();
	$(&quot;#tab-holder&quot;).tabs( {
        &quot;activate&quot;: function(event, ui) {
           $( $.fn.dataTable.tables( true ) ).DataTable().columns.adjust();
        }
    });
    $('#create-holder').show();
});
	
&lt;/script&gt;</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>