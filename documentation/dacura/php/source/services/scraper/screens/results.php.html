<html>
    <head>
        <script
            type="text/javascript"
            src="../../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;h1&gt;Results&lt;/h1&gt;

&lt;div style=&quot;margin: 10px&quot; class=&quot;results&quot;&gt;
&lt;table class='scraper-report'&gt;&lt;tr&gt;&lt;th&gt;NGAs&lt;/th&gt;&lt;th&gt;Polities&lt;/th&gt;&lt;th&gt;Failures&lt;/th&gt;&lt;th&gt;Variables&lt;/th&gt;
&lt;th&gt;Simple&lt;/th&gt;&lt;th&gt;Complex&lt;/th&gt;&lt;th&gt;Empty&lt;/th&gt;&lt;th&gt;Errors&lt;/th&gt;&lt;th&gt;Warnings&lt;/th&gt;&lt;th&gt;Datapoints&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;?=$params['stats']['ngas']?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=$params['stats']['polities']?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=count($params['failures'])?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=$params['stats']['total_variables']?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=$params['stats']['total_variables'] - ($params['stats']['complex'] + $params['stats']['empty'])?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=$params['stats']['complex']?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=$params['stats']['empty']?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=$params['stats']['errors']?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=$params['stats']['warnings']?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?=$params['stats']['lines']?&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;

&lt;?php if(count($params['failures']) &gt; 0) {?&gt;
	&lt;h4&gt;The following pages could not be scraped:&lt;/h4&gt;
	&lt;table class='scraper-report'&gt;&lt;tr&gt;&lt;th&gt;NGA&lt;/th&gt;&lt;th&gt;Page&lt;/th&gt;&lt;th&gt;Failure&lt;/th&gt;&lt;/tr&gt;
	&lt;?php
	foreach($params['failures'] as $pf){
		$pd = $dacura_server-&gt;parsePolityName($pf[1]);
		$txt = &quot;&lt;a href='&quot;.$pf[1].&quot;'&gt;&quot;.$pd['polityname'].&quot;&lt;/a&gt;&quot;;
		echo &quot;&lt;tr&gt;&lt;td&gt;&quot; . $dacura_server-&gt;formatNGAName($pf[0]) . &quot;&lt;/td&gt;&lt;td&gt;$txt&lt;/td&gt;&lt;td&gt;&lt;small&gt;&lt;strong&gt;&quot; . $pf[3] .&quot;&lt;/strong&gt;: &quot;.$pf[2] .&quot;&lt;/small&gt;&lt;/td&gt;&lt;/tr&gt;&quot;;
	}
	echo &quot;&lt;/table&gt;&quot;;
}
if($params['stats']['ngas'] &gt; 1){
?&gt; 

	
	&lt;h4&gt;Results Summary&lt;/h4&gt;
	
	&lt;table class='scraper-report'&gt;&lt;tr&gt;&lt;th&gt;NGA&lt;/th&gt;&lt;th&gt;Polities&lt;/th&gt;&lt;th&gt;Variables&lt;/th&gt;
	&lt;th&gt;Simple&lt;/th&gt;&lt;th&gt;Complex&lt;/th&gt;&lt;th&gt;Empty&lt;/th&gt;&lt;th&gt;Errors&lt;/th&gt;&lt;th&gt;Warnings&lt;/th&gt;&lt;th&gt;Datapoints&lt;/th&gt;&lt;/tr&gt;
	&lt;?php
	
	foreach($params['summary'] as $pf){
		echo &quot;&lt;tr&gt;&lt;td&gt;&quot; . $pf[&quot;nga&quot;] . &quot;&lt;/td&gt;&lt;td&gt;&quot; . $pf[&quot;polities&quot;] . &quot;&lt;/td&gt;&lt;td&gt;&quot;.	$pf['total_variables'].&quot;&lt;/td&gt;&lt;td&gt;&quot;.
		($pf['total_variables'] - ($pf['complex'] + $pf['empty'])) . &quot;&lt;/td&gt;&lt;td&gt;&quot;.
		$pf['complex'].&quot;&lt;/td&gt;&lt;td&gt;&quot;.$pf['empty'].
		 &quot;&lt;/td&gt;&lt;td&gt;&quot;.$pf['errors']. &quot;&lt;/td&gt;&lt;td&gt;&quot;.$pf['warnings'].&quot;&lt;/td&gt;&lt;td&gt;&quot;.$pf['lines'].&quot;&lt;/td&gt;&lt;/tr&gt;&quot;;
	}
	?&gt; 
	&lt;/table&gt;
&lt;?php } ?&gt;
&lt;div class='data-buttons'&gt;
	&lt;a id=&quot;gettsv&quot; class='data-button' href=&quot;&lt;?=$params['files']['tsv']?&gt;&quot;&gt;Download the results&lt;/a&gt; |
	&lt;a id=&quot;gethtml&quot; class='data-button' target=&quot;_blank&quot; href=&quot;&lt;?=$params['files']['html']?&gt;&quot;&gt;View the results&lt;/a&gt; |
	&lt;a id=&quot;geterrs&quot; class='data-button' target=&quot;_blank&quot; href=&quot;&lt;?=$params['files']['errors']?&gt;&quot;&gt;View the error report&lt;/a&gt;
&lt;/div&gt;

&lt;script&gt;
&lt;/script&gt;
</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>