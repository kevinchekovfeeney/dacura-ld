<html>
    <head>
        <script
            type="text/javascript"
            src="../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php
/*
 * Scraper Service
 * scrapes data from seshat wiki and dumps it in a tsv
 *
 * Created By: Chekov
 * Creation Date: 20/11/2014
 * Contributors:
 * Licence: GPL v2
 */

include_once(&quot;ScraperDacuraServer.php&quot;);

class ScraperService extends DacuraService {

	var $default_screen = &quot;main&quot;;
	var $public_screens = array(&quot;test&quot;, &quot;syntax&quot;);
	var $protected_screens = array(&quot;export&quot; =&gt; array(&quot;admin&quot;), &quot;status&quot; =&gt; array(&quot;admin&quot;), &quot;main&quot; =&gt; array(&quot;admin&quot;));

	function renderFullPageHeader(){
		parent::renderFullPageHeader();
		echo '&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;'.$this-&gt;get_service_file_url('style.css').'&quot;&gt;';
		echo &quot;&lt;div id='pagecontent-container'&gt;&quot;;
		echo &quot;&lt;div id='pagecontent-nopad'&gt;&quot;;
	}
	
	function handlePageLoad($server){
		$params = array(
				&quot;title&quot; =&gt; &quot;Wiki Scraper&quot;,
				&quot;subtitle&quot; =&gt; &quot;A Tool for extracting structured data from the Seshat Wiki&quot;);
		$params['screen'] = $this-&gt;screen;
		//if($this-&gt;screen == &quot;syntax&quot;){
		//	$params[&quot;examples&quot;] = $server-&gt;parseCanonicalExamples();
		//}
		$this-&gt;renderToolHeader($params);
		$this-&gt;renderScreen($this-&gt;screen, $params);
		$this-&gt;renderToolFooter($params);
	}
	
	function renderFullPageFooter(){
		echo &quot;&lt;/div&gt;&lt;/div&gt;&quot;;
		parent::renderFullPageFooter();
	}
	
}
</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>