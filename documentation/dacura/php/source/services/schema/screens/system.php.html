<html>
    <head>
        <script
            type="text/javascript"
            src="../../../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php echo $service-&gt;showLDResultbox($params);?&gt;
&lt;div class='dacura-screen' id='system-schema'&gt;
	&lt;div class='dacura-subscreen' id=&quot;ontology-list&quot; title=&quot;Imported Ontologies&quot;&gt;
		&lt;div class=&quot;ld-list&quot;&gt;
			&lt;table id=&quot;ontology_table&quot; class=&quot;dacura-api-listing&quot;&gt;
				&lt;thead&gt;
				&lt;tr&gt;
					&lt;th id='otd-id'&gt;ID&lt;/th&gt;
					&lt;th id='otd-meta-url'&gt;URL&lt;/th&gt;
					&lt;th id='otd-meta-title'&gt;Title&lt;/th&gt;
					&lt;th id='otd-status'&gt;Status&lt;/th&gt;
					&lt;th id='otd-version'&gt;Version&lt;/th&gt;
					&lt;th id='dfn-rowselector'&gt;Validate&lt;/th&gt;
				&lt;/tr&gt;
				&lt;/thead&gt;
				&lt;tbody&gt;&lt;/tbody&gt;
			&lt;/table&gt;
		&lt;/div&gt;	
		&lt;div id='dqs-ontology-tests' class='dqs-validator'&gt;
			&lt;div id='ontology-test-msgs'&gt;&lt;/div&gt;
			&lt;div class='dqs-button'&gt;
					&lt;a class='button2' href='javascript:validateOntologies();'&gt;Validate Selected Ontologies&lt;/a&gt;
				&lt;/div&gt;
				&lt;div class='dqs-embed'&gt;
					&lt;?= $service-&gt;showDQSControls(&quot;schema&quot;, &quot;all&quot;); ?&gt;
					&lt;div style='clear: both'&gt;&lt;/div&gt;
				&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;div class='dacura-subscreen' id='import-ontology' title=&quot;Import Ontology&quot;&gt;
		&lt;div id='view-bar'&gt;
			&lt;table&gt;
				&lt;tr&gt;
					&lt;td id=&quot;view-bar-left&quot;&gt;
						&lt;span class='view-option view-mode' id=&quot;import-format&quot;&gt;
						    &lt;input type=&quot;radio&quot; class='foption' id=&quot;import-url&quot; name=&quot;format&quot; checked=&quot;checked&quot;&gt;&lt;label for=&quot;import-url&quot;&gt;URL&lt;/label&gt;
						    &lt;input type=&quot;radio&quot; class='foption' id=&quot;import-upload&quot; name=&quot;format&quot;&gt;&lt;label for=&quot;import-upload&quot;&gt;File Upload&lt;/label&gt;
						    &lt;input type=&quot;radio&quot; class='foption' id=&quot;import-text&quot; name=&quot;format&quot;&gt;&lt;label for=&quot;import-text&quot;&gt;Text&lt;/label&gt;
				    	&lt;/span&gt;
					&lt;/td&gt;
					&lt;td id=&quot;view-bar-centre&quot;&gt;
					&lt;/td&gt;
					&lt;td id=&quot;view-bar-right&quot;&gt;
					&lt;/td&gt;
				&lt;/tr&gt;	
			&lt;/table&gt;
		&lt;/div&gt;
		&lt;div class='import-content'&gt;
			&lt;table class='import-table dc-wizard'&gt;
				&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;left&quot;&gt;&lt;/th&gt;&lt;th class=&quot;right&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
				&lt;tbody&gt;
					&lt;tr class='id'&gt;&lt;th id='entid'&gt;ID&lt;/th&gt;&lt;td id='id-input-cell'&gt;&lt;input type=&quot;text&quot; id='id-input'&gt; (leave blank for auto-generated id)&lt;/td&gt;&lt;/tr&gt;
					&lt;tr class='title'&gt;&lt;th id='entid'&gt;Title&lt;/th&gt;&lt;td id='id-input-cell'&gt;&lt;input type=&quot;text&quot; id='title-input'&gt;&lt;/td&gt;&lt;/tr&gt;
					&lt;tr&gt;&lt;th&gt;URL&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; id='url-input'&gt;&lt;/td&gt;&lt;/tr&gt;
					&lt;tr class='uploadmode'&gt;&lt;th&gt;Choose a file to upload&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name='fileup' id='file-input'&gt;&lt;/td&gt;&lt;/tr&gt;
					&lt;tr class='textmode'&gt;&lt;td colspan=2&gt;&lt;div&gt;Paste the ontology into the text box below&lt;/div&gt;&lt;textarea id='tximp'&gt;&lt;/textarea&gt;&lt;/td&gt;&lt;/tr&gt;
				&lt;/tbody&gt;
			&lt;/table&gt;			
		&lt;/div&gt;
		&lt;div class=&quot;tool-buttons&quot;&gt;
   			&lt;button class=&quot;dacura-button urlmode import-button&quot; id=&quot;url-button&quot;&gt;Import from URL&lt;/button&gt;
      		&lt;button class=&quot;dacura-button uploadmode import-button&quot; id=&quot;file-button&quot;&gt;Upload File&lt;/button&gt;
      		&lt;button class=&quot;dacura-button textmode import-button&quot; id=&quot;text-button&quot;&gt;Import from Textbox&lt;/button&gt;
      	&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;script&gt;
dacura.schema.importFormat = &quot;url&quot;;
var ontids = [];

function validateOntologies(){
	var onts = [];
	for (index = 0; index &lt; ontids.length; ++index) {	
		var full_id = ontids[index];
		if($('#dqsontology_' + index).is(&quot;:checked&quot;)){
			onts.push(full_id);
		}
	}
	var tests = dacura.dqs.getSelection(&quot;schema&quot;);
	dacura.schema.validateGraphOntologies(onts, tests, {scrollto: &quot;#ontology-test-msgs&quot;, resultbox: &quot;#ontology-test-msgs&quot;, busybox: &quot;#ontology-list&quot;});
}



function setImportFormat(format){
	dacura.schema.importFormat = format;
	if(format == &quot;upload&quot;){
		$('.uploadmode').show();		
		$('.urlmode').hide();
		$('.textmode').hide();	
	}
	else if(format == &quot;text&quot;){
		$('.textmode').show();
		$('.uploadmode').hide();
		$('.urlmode').hide();
	}
	else {
		$('.textmode').hide();
		$('.uploadmode').hide();
		$('.urlmode').show();
	}
}

function initDecorations(){
	//view format choices
	$( &quot;#import-format&quot; ).buttonset();
	$( &quot;.foption&quot; ).click(function(event){
		clearResultMessage();
		setImportFormat(event.target.id.substring(7));
    });
	
	//import button
	$('.import-button').button().click(function (event){
		clearResultMessage();
		var payload = false;
		if(dacura.schema.importFormat == &quot;text&quot;){
			payload = $('#tximp').val();
			
		}
		else if(dacura.schema.importFormat != &quot;url&quot;){
			payload = document.getElementById('file-input').files[0];
		}
		var entid =  $('#id-input').val();
		var enttitle = $('#title-input').val();
		var enturl = $('#url-input').val();
		dacura.schema.importOntology(dacura.schema.importFormat, entid, enttitle, enturl, payload, {resultbox: &quot;#import-ontology-msgs&quot;, busybox: &quot;#import-ontology&quot;});
	});
}

function clearResultMessage(){
	dacura.system.clearResultMessage();	
}

$(function() {
	initDecorations();
	setImportFormat(&quot;url&quot;);
	dacura.system.init({
		&quot;mode&quot;: &quot;tool&quot;, 
		&quot;tabbed&quot;: &quot;system-schema&quot;,
		&quot;listings&quot;: {
			&quot;ontology_table&quot; : {
				&quot;screen&quot;: &quot;ontology-list&quot;, 
				&quot;fetch&quot;: dacura.ld.fetchentitylist,
				&quot;settings&quot;: &lt;?=$params['ontology_datatable']?&gt;	
			}
		}
	});
	//dacura.schema.fetchentitylist(drawOntologies, {resultbox: &quot;#ontology-msgs&quot;, errorbox: &quot;#ontology-msgs&quot;, busybox: &quot;#ontology-list&quot;}); 
});
&lt;/script&gt;</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>